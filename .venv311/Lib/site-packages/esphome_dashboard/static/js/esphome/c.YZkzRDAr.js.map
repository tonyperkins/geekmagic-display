{"version":3,"file":"c.YZkzRDAr.js","sources":["../../../../src/dialogs/confirmation-dialog.ts"],"sourcesContent":["import { LitElement, html, TemplateResult, CSSResultGroup, css } from \"lit\";\nimport { customElement, state } from \"lit/decorators.js\";\nimport \"@material/mwc-button\";\nimport \"@material/mwc-dialog\";\nimport { ConfirmationDialogParams } from \".\";\nimport { classMap } from \"lit/directives/class-map.js\";\n\n@customElement(\"esphome-confirmation-dialog\")\nclass ESPHomeConfirmationDialog extends LitElement {\n  @state() private _params!: ConfirmationDialogParams;\n  @state() private _resolve!: (value: boolean | PromiseLike<boolean>) => void;\n\n  public async showDialog(\n    params: ConfirmationDialogParams,\n    resolve: (value: boolean | PromiseLike<boolean>) => void,\n  ): Promise<void> {\n    this._params = params;\n    this._resolve = resolve;\n  }\n\n  protected render(): TemplateResult {\n    if (!this._params) {\n      return html``;\n    }\n    return html`\n      <mwc-dialog\n        .heading=${this._params.title || \"\"}\n        @closed=${this._handleClose}\n        open\n      >\n        ${this._params.text ? html`<div>${this._params.text}</div>` : \"\"}\n        <mwc-button\n          slot=\"secondaryAction\"\n          no-attention\n          .label=${this._params.dismissText || \"Cancel\"}\n          dialogAction=\"dismiss\"\n        ></mwc-button>\n        <mwc-button\n          slot=\"primaryAction\"\n          .label=${this._params.confirmText || \"Yes\"}\n          class=${classMap({\n            destructive: this._params.destructive || false,\n          })}\n          dialogAction=\"confirm\"\n        ></mwc-button>\n      </mwc-dialog>\n    `;\n  }\n\n  private _handleClose(e: CustomEvent): void {\n    this._resolve(e.detail.action === \"confirm\");\n    this.parentNode!.removeChild(this);\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      mwc-button {\n        --mdc-theme-primary: var(--primary-text-color);\n      }\n\n      .destructive {\n        --mdc-theme-primary: var(--alert-error-color);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"esphome-confirmation-dialog\": ESPHomeConfirmationDialog;\n  }\n}\n"],"names":["ESPHomeConfirmationDialog","LitElement","showDialog","params","resolve","this","_params","_resolve","render","html","title","_handleClose","text","dismissText","confirmText","classMap","destructive","e","detail","action","parentNode","removeChild","styles","css","__decorate","state","prototype","customElement"],"mappings":"qGAQA,IAAMA,EAAN,cAAwCC,EAI/B,gBAAMC,CACXC,EACAC,GAEAC,KAAKC,QAAUH,EACfE,KAAKE,SAAWH,EAGR,MAAAI,GACR,OAAKH,KAAKC,QAGHG,CAAI;;mBAEIJ,KAAKC,QAAQI,OAAS;kBACvBL,KAAKM;;;UAGbN,KAAKC,QAAQM,KAAOH,CAAI,QAAQJ,KAAKC,QAAQM,aAAe;;;;mBAInDP,KAAKC,QAAQO,aAAe;;;;;mBAK5BR,KAAKC,QAAQQ,aAAe;kBAC7BC,EAAS,CACfC,YAAaX,KAAKC,QAAQU,cAAe;;;;MAnBxCP,CAAI,GA2BP,YAAAE,CAAaM,GACnBZ,KAAKE,SAA6B,YAApBU,EAAEC,OAAOC,QACvBd,KAAKe,WAAYC,YAAYhB,MAG/B,iBAAWiB,GACT,OAAOC,CAAG;;;;;;;;QA9CKC,EAAA,CAAhBC,KAAmDzB,EAAA0B,UAAA,eAAA,GACnCF,EAAA,CAAhBC,KAA2EzB,EAAA0B,UAAA,gBAAA,GAFxE1B,EAAyBwB,EAAA,CAD9BG,EAAc,gCACT3B"}