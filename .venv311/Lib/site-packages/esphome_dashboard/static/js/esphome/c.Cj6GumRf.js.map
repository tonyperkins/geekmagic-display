{"version":3,"file":"c.Cj6GumRf.js","sources":["../../../../src/install-server/install-server-dialog.ts"],"sourcesContent":["import { LitElement, html, css } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\nimport \"@material/mwc-button\";\nimport \"../components/remote-process\";\nimport \"../components/process-dialog\";\nimport { openInstallServerDialog } from \".\";\nimport { openEditDialog } from \"../editor\";\nimport { esphomeDialogStyles } from \"../styles\";\n\n@customElement(\"esphome-install-server-dialog\")\nclass ESPHomeInstallServerDialog extends LitElement {\n  @property() public configuration!: string;\n  @property() public target!: string;\n\n  @state() private _result?: number;\n\n  protected render() {\n    return html`\n      <esphome-process-dialog\n        .heading=${`Install ${this.configuration}`}\n        .type=${\"run\"}\n        .spawnParams=${{ configuration: this.configuration, port: this.target }}\n        @closed=${this._handleClose}\n        @process-done=${this._handleProcessDone}\n      >\n        ${this.target === \"OTA\"\n          ? \"\"\n          : html`\n              <a\n                href=\"https://esphome.io/guides/faq.html#i-can-t-get-flashing-over-usb-to-work\"\n                slot=\"secondaryAction\"\n                target=\"_blank\"\n                >‚ùì</a\n              >\n            `}\n        <mwc-button\n          slot=\"secondaryAction\"\n          dialogAction=\"close\"\n          label=\"Edit\"\n          @click=${this._openEdit}\n        ></mwc-button>\n        ${this._result === undefined || this._result === 0\n          ? \"\"\n          : html`\n              <mwc-button\n                slot=\"secondaryAction\"\n                dialogAction=\"close\"\n                label=\"Retry\"\n                @click=${this._handleRetry}\n              ></mwc-button>\n            `}\n      </esphome-process-dialog>\n    `;\n  }\n\n  private _openEdit() {\n    openEditDialog(this.configuration);\n  }\n\n  private _handleProcessDone(ev: { detail: number }) {\n    this._result = ev.detail;\n  }\n\n  private _handleRetry() {\n    openInstallServerDialog(this.configuration, this.target);\n  }\n\n  private _handleClose() {\n    this.parentNode!.removeChild(this);\n  }\n\n  static styles = [\n    esphomeDialogStyles,\n    css`\n      a[slot=\"secondaryAction\"] {\n        text-decoration: none;\n        line-height: 32px;\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"esphome-install-server-dialog\": ESPHomeInstallServerDialog;\n  }\n}\n"],"names":["ESPHomeInstallServerDialog","LitElement","render","html","this","configuration","port","target","_handleClose","_handleProcessDone","_openEdit","undefined","_result","_handleRetry","openEditDialog","ev","detail","openInstallServerDialog","parentNode","removeChild","styles","esphomeDialogStyles","css","__decorate","property","prototype","state","customElement"],"mappings":"+KAUA,IAAMA,EAAN,cAAyCC,EAM7B,MAAAC,GACR,OAAOC,CAAI;;mBAEI,WAAWC,KAAKC;gBACnB;uBACO,CAAEA,cAAeD,KAAKC,cAAeC,KAAMF,KAAKG;kBACrDH,KAAKI;wBACCJ,KAAKK;;UAEH,QAAhBL,KAAKG,OACH,GACAJ,CAAI;;;;;;;;;;;;mBAYGC,KAAKM;;eAEGC,IAAjBP,KAAKQ,SAA0C,IAAjBR,KAAKQ,QACjC,GACAT,CAAI;;;;;yBAKSC,KAAKS;;;;MAOpB,SAAAH,GACNI,EAAeV,KAAKC,eAGd,kBAAAI,CAAmBM,GACzBX,KAAKQ,QAAUG,EAAGC,OAGZ,YAAAH,GACNI,EAAwBb,KAAKC,cAAeD,KAAKG,QAG3C,YAAAC,GACNJ,KAAKc,WAAYC,YAAYf,QAGxBJ,EAAAoB,OAAS,CACdC,EACAC,CAAG;;;;;OA9DcC,EAAA,CAAlBC,KAAyCxB,EAAAyB,UAAA,qBAAA,GACvBF,EAAA,CAAlBC,KAAkCxB,EAAAyB,UAAA,cAAA,GAElBF,EAAA,CAAhBG,KAAiC1B,EAAAyB,UAAA,eAAA,GAJ9BzB,EAA0BuB,EAAA,CAD/BI,EAAc,kCACT3B"}